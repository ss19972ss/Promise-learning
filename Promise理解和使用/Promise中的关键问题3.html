<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript">
           /* const p = new Promise((resolve,reject)=>{
               resolve(1)  //resolve/reject是同步执行的
           }).then( //then也是同步执行的
               value=>{
                   console.log('value',value)
               },
               reason=>{

               }
           )
           console.log('outside') */ //证明了then中的回调函数是异步执行的

           /**
            * ?  promise.then()返回的新promise的结果状态由什么决定？
            *todo   由then指定的回调函数执行结果决定
            *todo   (1)如果抛出异常，新promise变成rejected，reason为抛出的异常
            *todo   (2)如果返回的是非promise的任意值，新的promise变成resolve，value为返回的那个值
            *todo   (3)如果返回的是新的promise，则此promise的结果就会变成新promise的结果
             */
           const p2 = new Promise((resolve,reject)=>{
               resolve(1)  
           }).then( 
               value=>{ 
                   console.log('resolve1',value)
                   //return 2 //没有return时，默认返回undefined
                   return Promise.resolve(2)
                },
               reason=>{ console.log('reject1',reason) }
           ).then(
               value=>{ console.log('resolve2',value) },
               reason=>{ console.log('reject2',reason) }
           )
        </script>
    </head>
    <body>
        
    </body>
</html>